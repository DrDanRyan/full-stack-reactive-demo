<head>
  <title>Top Rated Movies from IMDB</title>
</head>

<body ng-app="movieApp" ng-controller="MovieController as ctrl">
  <div layout="column" layout-align="start center">
    <h1 class="md-display-3">Top Rated Movies</h1>

    <div layout="row" id="search-bar" layout-align="start center">
      <md-button class="md-primary md-raised" ng-click="ctrl.clearSearchText()">
        Clear Search
      </md-button>

      <md-input-container flex="50" flex-offset="5" id="search-box">
        <label>Search</label>
        <input type="text"
          ng-model="ctrl.searchText"
          ng-model-options="{debounce: 300}"
          ng-change="ctrl.setSearchText()"/>
      </md-input-container>

      <div flex="20" flex-offset="5" class="md-headline">
        Matches: <b>{{ctrl.count}}</b>
      </div>
    </div>

    <md-list>
      <md-list-item ng-repeat="movie in ctrl.movies" layout="row" layout-align="space-between">
        <div flex="15"><b>Rank:</b> {{movie.ranking}}</div>
        <div flex="55" md-highlight-text="ctrl.searchText" md-highlight-flags="gi">{{movie.title}}</div>
        <div flex="20"><b>Rating:</b> {{movie.rating}}</div>
      </md-list-item>
    </md-list>
  </div>
</body>
